/* ============================================================
   styles.css (FULL REPLACEMENT) — Tap-n-Score™
   Goals:
   - Clean dark “glass” UI
   - iPad/iPhone friendly sizing
   - Bulletproof tap layer stacking (no dead taps)
   - Works with IDs/classes we’ve been using:
     #targetWrap #targetImg #tapCanvas #dotsLayer
     .card .btn .btnPrimary .btnGhost etc.
============================================================ */

/* ---------- Reset / Base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: radial-gradient(1200px 800px at 30% 20%, #0e1a18 0%, #070b0b 45%, #000 100%);
  color: #e9eef0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

a { color: #7fe0c6; text-decoration: none; }
a:hover { text-decoration: underline; }

/* Prevent iOS “double tap zoom” headaches */
.page, #targetWrap, #tapCanvas, #dotsLayer {
  touch-action: manipulation;
}

/* ---------- Layout ---------- */
.page {
  min-height: 100%;
  display: flex;
  justify-content: center;
  padding: 28px 16px 48px;
}

.container {
  width: min(980px, 100%);
}

/* ---------- Brand ---------- */
.brandHeader {
  text-align: center;
  margin: 8px 0 18px;
}

.brandTitle {
  font-weight: 900;
  letter-spacing: 0.08em;
  font-size: clamp(28px, 3.6vw, 44px);
  margin: 0;
}

.brandTitle .tm {
  color: #2fe6a6;
  font-weight: 900;
  letter-spacing: 0;
  margin-left: 2px;
}

.brandSub {
  margin: 6px 0 0;
  opacity: 0.85;
  font-size: clamp(16px, 2vw, 20px);
}

/* ---------- Cards / Surfaces ---------- */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 28px;
  padding: 22px 22px;
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.05);
  backdrop-filter: blur(10px);
}

.card + .card { margin-top: 18px; }

.sectionTitle {
  font-size: clamp(20px, 2.4vw, 28px);
  margin: 0 0 10px;
  letter-spacing: 0.02em;
}

.muted { opacity: 0.78; }
.small { font-size: 0.95rem; opacity: 0.85; }

/* ---------- Inputs ---------- */
.row {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
  align-items: center;
}

.field {
  display: grid;
  gap: 6px;
  min-width: 220px;
  flex: 1;
}

label {
  font-weight: 700;
  opacity: 0.85;
}

select, input[type="text"], input[type="number"] {
  width: 100%;
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.35);
  color: #e9eef0;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}

select:focus, input:focus {
  border-color: rgba(47,230,166,0.55);
  box-shadow: 0 0 0 3px rgba(47,230,166,0.18);
}

/* File input “pill” */
.fileRow {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
  width: 100%;
}

input[type="file"] {
  color: rgba(233,238,240,0.85);
  background: rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 999px;
  padding: 10px 12px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}

/* iOS Safari “Choose File” spacing */
input[type="file"]::-webkit-file-upload-button {
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.08);
  color: #e9eef0;
  border-radius: 999px;
  padding: 8px 12px;
  margin-right: 10px;
  cursor: pointer;
}
input[type="file"]::-webkit-file-upload-button:hover {
  background: rgba(255,255,255,0.12);
}

/* ---------- Buttons ---------- */
.btn {
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: #e9eef0;
  border-radius: 999px;
  padding: 14px 18px;
  font-weight: 800;
  letter-spacing: 0.02em;
  cursor: pointer;
  box-shadow:
    0 10px 24px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.05);
  transition: transform 0.06s ease, background 0.15s ease, border-color 0.15s ease;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.btn:active { transform: translateY(1px) scale(0.99); }
.btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
  transform: none;
}

.btnPrimary {
  background: linear-gradient(180deg, rgba(47,230,166,0.22), rgba(16,120,85,0.22));
  border-color: rgba(47,230,166,0.35);
}
.btnPrimary:hover { border-color: rgba(47,230,166,0.55); }

.btnWide {
  width: 100%;
  padding: 16px 18px;
  font-size: 1.02rem;
}

.btnGhost {
  background: rgba(0,0,0,0.30);
  border-color: rgba(255,255,255,0.10);
}
.btnGhost:hover { background: rgba(255,255,255,0.08); }

/* ---------- Thumbnail / Preview ---------- */
.thumbBox {
  margin-top: 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.25);
  padding: 12px;
  overflow: hidden;
}

.thumbTitle {
  font-weight: 900;
  opacity: 0.9;
  margin: 0 0 10px;
}

/* ---------- Target / Tap Layer ---------- */
#targetWrap {
  position: relative;
  width: 100%;
  max-width: 860px;
  margin: 12px auto 0;
  border-radius: 28px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.35);
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.04);
}

/* The image itself */
#targetImg {
  display: block;
  width: 100%;
  height: auto;
  user-select: none;
  -webkit-user-drag: none;
}

/* IMPORTANT:
   - Tap canvas must be ABOVE image
   - Must have pointer-events ON
   - Must match wrap size (JS sets width/height)
*/
#tapCanvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 30;
  pointer-events: auto;
  background: transparent;
}

/* Dots layer above canvas so dots are always visible */
#dotsLayer {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 40;
  pointer-events: none;
}

/* Tap dot style (if you render dots as divs) */
.tapDot {
  position: absolute;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: rgba(47,230,166,0.95);
  box-shadow: 0 8px 18px rgba(0,0,0,0.45);
  transform: translate(-50%, -50%);
}

/* POIB / Bull anchor dot (optional) */
.anchorDot {
  width: 18px;
  height: 18px;
  background: rgba(0,170,255,0.95);
}

/* ---------- Tap Controls Row ---------- */
.controlsRow {
  display: grid;
  gap: 12px;
  margin-top: 16px;
}

.controlsGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

@media (max-width: 560px) {
  .controlsGrid { grid-template-columns: 1fr; }
}

.bigPill {
  border-radius: 999px;
  padding: 16px 18px;
  font-weight: 900;
  font-size: 1.05rem;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow:
    0 14px 32px rgba(0,0,0,0.38),
    inset 0 1px 0 rgba(255,255,255,0.05);
}

.bigPill strong { letter-spacing: 0.02em; }

/* ---------- Results / SEC Card ---------- */
.secCard {
  max-width: 860px;
  margin: 18px auto 0;
}

.secLabel {
  font-weight: 1000;
  letter-spacing: 0.02em;
  margin: 0 0 8px;
}
.secLabel .secRed { color: #ff3b3b; }

.kvGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
  margin-top: 12px;
}
@media (max-width: 720px) {
  .kvGrid { grid-template-columns: 1fr; }
}

.kvBox {
  border-radius: 22px;
  padding: 16px 18px;
  background: rgba(0,0,0,0.25);
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.kvKey { opacity: 0.7; font-weight: 800; letter-spacing: 0.02em; }
.kvVal { font-size: clamp(28px, 4vw, 46px); font-weight: 1000; margin-top: 4px; }

/* ---------- “Start” primary CTA style ---------- */
.startBar {
  max-width: 860px;
  margin: 16px auto 0;
}
.startBar .btnPrimary {
  padding: 18px 18px;
  font-size: 1.1rem;
}

/* ---------- Utility spacing ---------- */
.mt8 { margin-top: 8px; }
.mt12 { margin-top: 12px; }
.mt16 { margin-top: 16px; }
.mt22 { margin-top: 22px; }
.center { text-align: center; }

/* ---------- Safety: prevent random overlays from blocking taps ---------- */
.overlayBlocker {
  pointer-events: none !important;
}

/* ---------- Optional DEBUG (leave OFF unless needed) ----------
#tapCanvas { outline: 3px solid hotpink; background: rgba(255,0,255,0.06); }
-------------------------------------------------------------- */
