 <!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#06070a" />

  <!-- PWA -->
  <link rel="manifest" href="/tap-n-score/manifest.webmanifest" />
  <link rel="apple-touch-icon" href="/tap-n-score/icons/icon-192.png" />
  <link rel="icon" href="/tap-n-score/icons/icon-192.png" />

  <!-- HARD NO-CACHE (Safari helpers) -->
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>Tap-n-Score™</title>

  <!-- App CSS -->
  <link rel="stylesheet" href="/tap-n-score/styles.css?v=22206" />

  <style>
    /* small, safe add-ons (no dependency on styles.css structure) */
    .fileRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin: 10px 0 12px;
    }
    .stepper{
      display:flex;
      align-items:center;
      gap:8px;
      width:100%;
    }
    .stepBtn{
      min-width:44px;
      height:44px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color:#fff;
      font-weight: 800;
      font-size:18px;
    }
    .stepInput{
      flex:1;
      height:44px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color:#fff;
      padding: 0 12px;
      font-size: 16px;
      text-align:center;
    }
    .hideInput{
      display:none !important;
    }
  </style>
</head>

<body>
  <main class="page">

    <header class="topBar">
      <div class="topTitle">TARGET</div>
      <div id="statusLine" class="topSub">Add target photo to begin.</div>
    </header>

    <section class="card">
      <div class="cardTitle">TARGET PHOTO</div>

      <!-- Two buttons: camera + library -->
      <div class="fileRow">
        <label class="fileBtn" for="photoInputCamera">Take Photo</label>
        <label class="fileBtn" for="photoInputLibrary">Choose from Library</label>
      </div>

      <!-- Camera input -->
      <input
        id="photoInputCamera"
        type="file"
        accept="image/*"
        capture="environment"
        class="hideInput"
      />

      <!-- Library input (NO capture) -->
      <input
        id="photoInputLibrary"
        type="file"
        accept="image/*"
        class="hideInput"
      />

      <div id="targetWrap" class="targetWrap" aria-label="Target photo area">
        <img id="targetImg" alt="Target preview" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>
      </div>

      <div class="row">
        <div class="pill">
          Taps: <span id="tapCount">0</span>
        </div>

        <button id="clearTapsBtn" class="btnSecondary" type="button">
          Clear
        </button>

        <button id="seeResultsBtn" class="btnPrimary" type="button">
          Show results
        </button>
      </div>

      <p id="instructionLine" class="hint">
        Tap bull once, then tap each shot.
      </p>
    </section>

    <section class="card">
      <div class="cardTitle">SETTINGS</div>

      <div class="row">
        <!-- Distance stepper -->
        <label class="field" style="flex:1;">
          <span class="fieldLabel">Distance (yards)</span>

          <div class="stepper">
            <button id="distMinus" class="stepBtn" type="button">−</button>
            <input
              id="distanceYds"
              class="stepInput"
              type="number"
              inputmode="numeric"
              min="5"
              max="1000"
              step="1"
              value="100"
            />
            <button id="distPlus" class="stepBtn" type="button">+</button>
          </div>
        </label>

        <!-- MOA per click stays dropdown -->
        <label class="field">
          <span class="fieldLabel">MOA / click</span>
          <select id="moaPerClick" class="select">
            <option value="0.25" selected>0.25</option>
            <option value="0.5">0.5</option>
            <option value="0.125">0.125</option>
          </select>
        </label>
      </div>

      <a id="vendorLink" class="vendorLink" href="#" target="_blank" rel="noopener"></a>
    </section>

    <footer class="footer">
      <span class="footerMark">SCZN3</span>
    </footer>
  </main>

  <script src="/tap-n-score/index.js?v=22206"></script>
</body>
</html>
