<!-- docs/index.html (FULL REPLACEMENT) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Tap-n-Score™</title>

  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />

  <link rel="stylesheet" href="./styles.css?v=20260121a" />
</head>

<body>
  <main class="page">
    <header class="hero">
      <div class="brandLine" aria-label="Tap-n-Score brand">
        <span class="brandTap">TAP</span><span class="brandDash">-</span><span class="brandN">N</span><span class="brandDash">-</span><span class="brandScore">SCORE</span><span class="brandTm">™</span>
      </div>
      <div class="tagline">Fast, clean After-Shot Intelligence.</div>
    </header>

    <!-- TOP: choose target FIRST (and hide after load) -->
    <section class="card">
      <div id="chooseTargetRow" class="chooseTargetRow">
        <div class="chooseTitle">Choose Target Photo</div>
        <label class="fileBtn">
          <input id="photoInput" type="file" accept="image/*" />
          <span class="fileBtnText">Choose Photo</span>
        </label>
        <div id="fileName" class="fileName">No file selected</div>
        <div class="chooseHint">Tip: take photo straight-on, fill the frame.</div>
      </div>

      <!-- Compact controls (no Target Size, no MOA wording) -->
      <div class="controlsRow">
        <div class="control">
          <div class="controlLabel">Mode</div>
          <select id="modeSel" class="select">
            <option value="rifle" selected>Rifle</option>
            <option value="pistol">Pistol</option>
          </select>
        </div>

        <div class="control">
          <div class="controlLabel">Distance (yards)</div>
          <input id="distanceYds" class="input" type="number" inputmode="numeric" value="100" min="1" step="1" />
        </div>

        <div class="control">
          <div class="controlLabel">Click value</div>
          <select id="clickValue" class="select">
            <option value="0.25" selected>1/4 per click</option>
            <option value="0.5">1/2 per click</option>
            <option value="0.125">1/8 per click</option>
          </select>
        </div>
      </div>

      <div id="instructionLine" class="instruction">
        Choose a target photo to begin.
      </div>
    </section>

    <!-- IMAGE + TAP LAYER -->
    <section class="imageCard">
      <div id="targetWrap" class="targetWrap">
        <img id="targetImg" class="targetImg" alt="Target" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>
      </div>

      <div class="actionRow">
        <button id="bullSetBtn" class="btn ghost" type="button">Bull: <span id="bullState">not set</span></button>
        <div class="pill">Holes: <span id="holeCount">0</span></div>
        <button id="undoBtn" class="btn ghost" type="button">Undo</button>
        <button id="clearBtn" class="btn ghost" type="button">Clear</button>
        <button id="showBtn" class="btn primary" type="button" disabled>Show Results</button>
      </div>

      <div class="tipLine" id="tipLine">
        Tip: Bull first. Then holes. Scroll/drag won’t create dots.
      </div>
    </section>

    <!-- RESULTS -->
    <section id="resultsCard" class="card results hidden" aria-live="polite">
      <div class="resultsTitle">Tap-n-Score Results</div>

      <div class="resultsGrid">
        <div class="kv"><span class="k">Mode:</span> <span class="v" id="rMode">—</span></div>
        <div class="kv"><span class="k">Distance:</span> <span class="v" id="rDist">—</span></div>
        <div class="kv"><span class="k">Click value:</span> <span class="v" id="rClick">—</span></div>

        <div class="kv"><span class="k">Holes tapped:</span> <span class="v" id="rTapped">—</span></div>
        <div class="kv"><span class="k">Holes used:</span> <span class="v" id="rUsed">—</span></div>
      </div>

      <div class="divider"></div>

      <div class="subTitle">Corrections</div>
      <div class="corrLine">Windage: <strong id="rWindDir">—</strong> <span id="rWindIn">—</span> → <span id="rWindClk">—</span></div>
      <div class="corrLine">Elevation: <strong id="rElevDir">—</strong> <span id="rElevIn">—</span> → <span id="rElevClk">—</span></div>

      <div class="metrics">
        <div class="kv"><span class="k">POIB offset magnitude:</span> <span class="v" id="rMag">—</span></div>
        <div class="kv"><span class="k">Mean radius (consistency):</span> <span class="v" id="rMr">—</span></div>
        <div class="kv"><span class="k">Score100:</span> <span class="v" id="rScore">—</span></div>
      </div>

      <div class="divider"></div>

      <a id="downloadSecLink" class="downloadLink hidden" download="SEC.png" href="#">Download SEC (PNG)</a>

      <div class="nextLine" id="nextLine">
        Next: Shoot a 5-shot group, tap, and confirm the new zero.
      </div>
    </section>
  </main>

  <script src="./index.js?v=20260121a"></script>
</body>
</html>
