<!-- tap-n-score/index.html (FULL REPLACEMENT) — TIGHT TOP BAR + YD/M TOGGLE + SEC HEADER -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#06070a" />

  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="/tap-n-score/styles.css?v=TP-POLISH-03" />
</head>

<body>
  <main class="page">

    <!-- QRC LANDING HERO (LOCKED) -->
    <section class="hero" aria-label="Tap-n-Score landing">
      <div class="brandRow">
        <div class="brandTitle">
          <span class="r">TAP</span><span class="w">-N-</span><span class="b">SCORE</span><span class="w">™</span>
        </div>
        <div class="brandSub">After-Shot Intelligence</div>
      </div>

      <div class="heroMid">
        <button id="photoBtn" class="heroBtn" type="button">Add Target Picture</button>

        <div class="heroTip">
          Tip: Straight-on photos give the most accurate<br/>
          results.
        </div>

        <div class="vendorCenterRow" aria-label="Vendor / Buy more targets">
          <a id="vendorBox" class="vendorBox vendorBoxFlow" href="#" aria-label="Vendor">
            <span id="vendorLabel" class="vendorPillText">BUY MORE TARGETS LIKE THIS</span>
          </a>

          <svg class="vendorWireFlow" viewBox="0 0 220 36" aria-hidden="true">
            <path d="M10 10 C 60 30, 160 30, 210 10" fill="none" stroke="rgba(255,255,255,.26)" stroke-width="3" stroke-linecap="round"/>
            <path d="M10 16 C 68 32, 152 32, 210 16" fill="none" stroke="rgba(47,102,255,.18)" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>

      <!-- IMPORTANT (iOS): do NOT display:none file input -->
      <input id="photoInput" class="fileHidden" type="file" accept="image/*" />
    </section>

    <!-- TARGET PAGE (hidden until photo selected) -->
    <section id="scoreSection" class="card mt12 scoreHidden">
      <!-- HEADER: SHOOTER EXPERIENCE CARD + SEC -->
      <div class="cardTitle cardTitleSEC">
        <div class="secTitle">
          <span class="r">SHOOTER</span>
          <span class="w">EXPERIENCE</span>
          <span class="b">CARD</span>
        </div>

        <div class="secTag" aria-label="SEC">
          <span class="r">S</span><span class="w">E</span><span class="b">C</span>
        </div>
      </div>

      <!-- SINGLE TOP BAR -->
      <div class="topBar" aria-label="Range, dial unit, click value, matrix">
        <div class="topBarLeft">
          <div class="topLabelRow">
            <div class="topLabel">RANGE</div>

            <!-- YD/M toggle lives up top (tight) -->
            <div class="unitToggle" aria-label="Distance units">
              <button id="distUnitYd" class="segBtn segBtnTiny segOn" type="button">YD</button>
              <button id="distUnitM" class="segBtn segBtnTiny" type="button">M</button>
            </div>
          </div>

          <div class="yardLine">
            <button id="distDown" class="miniBtn miniBtnTight" type="button" aria-label="Distance down">−</button>
            <input id="distanceYds" class="miniInput miniInputTight" type="number" inputmode="numeric" min="1" max="5000" step="1" value="100" aria-label="Range" />
            <div id="distUnitLabel" class="miniUnit">yd</div>
            <button id="distUp" class="miniBtn miniBtnTight" type="button" aria-label="Distance up">+</button>
          </div>

          <div class="topHint">Adjust only if needed.</div>
        </div>

        <div class="topBarRight">
          <div class="topLabel">DIAL</div>

          <div class="dialOneLine">
            <button id="unitMoa" class="segBtn segOn" type="button">MOA</button>
            <button id="unitMrad" class="segBtn" type="button">MRAD</button>

            <input id="clickValue" class="miniInputWide miniInputWideTight" type="number" inputmode="decimal" step="0.01" value="0.25" aria-label="Click value" />

            <!-- MUST sit on same line -->
            <div id="clickUnitLabel" class="miniUnit clickUnitRight">MOA/click</div>

            <button id="matrixBtn" class="matrixBtn" type="button" aria-label="Open matrix presets">MATRIX</button>
          </div>

          <div class="topHint">Auto defaults. Non-standard? change it.</div>
        </div>
      </div>

      <!-- MATRIX PANEL -->
      <div id="matrixPanel" class="matrixPanel matrixHidden" aria-hidden="true">
        <div class="matrixTitle">Quick Presets</div>

        <div class="matrixGroup">
          <div class="matrixLabel">MOA Click Values</div>
          <div class="chipRow">
            <button class="chip" type="button" data-unit="MOA" data-click="0.25">0.25</button>
            <button class="chip" type="button" data-unit="MOA" data-click="0.50">0.50</button>
            <button class="chip" type="button" data-unit="MOA" data-click="0.125">0.125</button>
          </div>
        </div>

        <div class="matrixGroup">
          <div class="matrixLabel">MRAD Click Values</div>
          <div class="chipRow">
            <button class="chip" type="button" data-unit="MRAD" data-click="0.10">0.10</button>
            <button class="chip" type="button" data-unit="MRAD" data-click="0.20">0.20</button>
            <button class="chip" type="button" data-unit="MRAD" data-click="0.05">0.05</button>
          </div>
        </div>

        <div class="matrixFoot">
          <button id="matrixCloseBtn" class="matrixCloseBtn" type="button">Done</button>
        </div>
      </div>

      <div id="statusLine" class="hint" style="margin-top:0; margin-bottom:8px;">
        Add a target photo to begin.
      </div>

      <div id="targetWrap" class="targetWrap" aria-label="Target photo area">
        <img id="targetImg" alt="Target preview" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>

        <!-- MIRRORED INSTRUCTION TIPS (LOCKED) -->
        <div id="tipTL" class="tapTip tipTL tipStateReady">Tap Aim Point.</div>
        <div id="tipBR" class="tapTip tipBR tipStateReady">Tap Aim Point.</div>
      </div>

      <div class="row rowTight">
        <div class="pill">
          Taps: <span id="tapCount">0</span>
        </div>

        <button id="clearTapsBtn" class="btnSecondary" type="button">Clear</button>
      </div>

      <p id="instructionLine" class="hint"></p>
    </section>

    <!-- keep for compatibility (hidden) -->
    <section id="settingsSection" class="card scoreHidden" aria-hidden="true" style="display:none;"></section>

    <footer class="footer">
      <span class="footerMark">SCZN3</span>
    </footer>

    <div id="stickyBar" class="stickyBar stickyHidden" aria-hidden="true">
      <button id="stickyResultsBtn" class="stickyBtn" type="button">Show results</button>
    </div>

  </main>

  <script defer src="/tap-n-score/index.js?v=TP-POLISH-03"></script>
</body>
</html>
