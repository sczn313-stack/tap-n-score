<!-- frontend/index.html (FULL REPLACEMENT) — Tap-n-Score™ Shooter (vSEC-EXPORT-1) -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <main class="page">

    <!-- Header -->
    <header class="top">
      <div class="brandTitle">
        <div class="brandLine">
          <span class="brandRed">TAP</span><span class="brandWhite">-N-</span><span class="brandBlue">SCORE</span><span class="brandTm">™</span>
        </div>
        <div class="brandSub">After-Shot Intelligence</div>
      </div>
    </header>

    <!-- Controls -->
    <section class="controls">
      <!-- One big button -->
      <button id="takeChooseBtn" class="ctaBig" type="button">
        Take or Choose Target Photo
      </button>

      <!-- Hidden input -->
      <input id="photoInput" type="file" accept="image/*" capture="environment" style="display:none;" />

      <div class="tip">
        Tip: Straight-on photos give the most accurate results.
      </div>

      <div id="instructionLine" class="instruction">
        Tap the bull to anchor. Then tap your hits. Then press “Show Results”.
      </div>

      <div class="row">
        <button id="showResultsBtn" class="cta" type="button" disabled>Show Results</button>
        <button id="clearTapsBtn" class="ghost" type="button" disabled>Clear Taps</button>
        <div class="tapCount">
          Taps: <span id="tapCount">0</span>
        </div>
      </div>

      <!-- Simple settings (you can hide later) -->
      <div class="settings">
        <label>Distance (yds)
          <input id="distanceYds" type="number" inputmode="numeric" value="100" />
        </label>
        <label>MOA / Click
          <input id="moaPerClick" type="number" inputmode="decimal" step="0.01" value="0.25" />
        </label>
        <label>Target Width (in)
          <input id="widthIn" type="number" inputmode="decimal" step="0.1" value="8.5" />
        </label>
        <label>Target Height (in)
          <input id="heightIn" type="number" inputmode="decimal" step="0.1" value="11" />
        </label>
      </div>
    </section>

    <!-- Image + tap layers -->
    <section class="stage">
      <div id="targetWrap" class="targetWrap">
        <img id="targetImg" alt="Target" />
        <div id="tapLayer" class="tapLayer" aria-label="Tap layer"></div>
        <div id="dotsLayer" class="dotsLayer" aria-label="Dots layer"></div>
      </div>
    </section>

    <!-- SEC Card (export this section as image) -->
    <section id="secCard" class="secCard" aria-label="SEC Card">

      <div class="secHeader">
        <div class="secTitle">
          <span class="secRed">SEC</span> <span class="secWhite">Card</span>
          <div class="secSession">Session: <span id="sessionId">—</span></div>
        </div>

        <button id="buyMoreBtn" class="pill" type="button">
          <span class="pillBlue">BUY</span> MORE<br/>Targets Like This
        </button>
      </div>

      <div class="panel">
        <div class="panelTitle">Target Clicks</div>
        <div class="grid2">
          <div class="metric">
            <div class="metricLabel">Up</div>
            <div id="clickUp" class="metricValue">0.00</div>
          </div>
          <div class="metric">
            <div class="metricLabel">Down</div>
            <div id="clickDown" class="metricValue">0.00</div>
          </div>
          <div class="metric">
            <div class="metricLabel">Left</div>
            <div id="clickLeft" class="metricValue">0.00</div>
          </div>
          <div class="metric">
            <div class="metricLabel">Right</div>
            <div id="clickRight" class="metricValue">0.00</div>
          </div>
        </div>
      </div>

      <div class="panel">
        <div class="panelTitle">Score</div>
        <div id="scoreBig" class="scoreBig">—</div>
        <div class="scoreMeta">
          <div>Current <span id="scoreCurrent">—</span></div>
          <div>Previous <span id="scorePrev">3</span> —</div>
          <div>Cumulative <span id="scoreCum">—</span></div>
        </div>
      </div>

    </section>

    <!-- Download buttons (NOT inside secCard so they don’t appear in the export image) -->
    <section class="downloads">
      <button id="downloadSecImageBtn" class="ctaBig" type="button" disabled>Download SEC (Image)</button>
      <button id="downloadSecTextBtn" class="ctaBig" type="button" disabled>Download SEC (Text)</button>
    </section>

  </main>

  <!-- html2canvas for SEC image export -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <script src="./index.js"></script>
</body>
</html>
