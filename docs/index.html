<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Tap-n-Score™</title>

  <link rel="manifest" href="./manifest.webmanifest?v=1" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />

  <link rel="stylesheet" href="./styles.css?v=20260121a" />
</head>

<body>
  <main class="page">

    <!-- Brand -->
    <header class="top">
      <div class="brand">
        <span class="brandTap">TAP</span><span class="brandN">-N-</span><span class="brandScore">SCORE</span><span class="brandTm">™</span>
      </div>
      <div class="sub">Fast, clean After-Shot Intelligence.</div>
    </header>

    <!-- Controls -->
    <section class="panel">
      <div class="row">
        <label class="label">Mode</label>
        <select id="modeSelect" class="select">
          <option value="rifle">Rifle</option>
          <option value="pistol">Pistol</option>
        </select>
      </div>

      <div class="row">
        <label class="label">Target photo</label>
        <input id="photoInput" class="file" type="file" accept="image/*" />
      </div>

      <div class="statusRow">
        <div class="pill">
          Bull: <b id="bullStatus">not set</b>
        </div>
        <div class="pill">
          Holes: <b id="tapCount">0</b>
        </div>
      </div>

      <div id="instructionLine" class="hint">
        Choose a target photo to begin.
      </div>
    </section>

    <!-- Target workspace -->
    <section class="workspace">
      <div id="targetWrap" class="targetWrap" aria-label="Target workspace">
        <img id="targetImg" class="targetImg" alt="Target" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>
      </div>
    </section>

    <!-- Actions -->
    <section class="actions">
      <button id="undoBtn" class="btn btnGhost" disabled>Undo</button>
      <button id="clearTapsBtn" class="btn btnGhost" disabled>Clear</button>
      <button id="seeResultsBtn" class="btn btnPrimary" disabled>Show Results</button>
    </section>

    <!-- Results -->
    <section id="resultsBox" class="results" style="display:none;"></section>

    <footer class="foot">
      <div class="tiny">Tip: Bull first. Then holes. Scroll/drag won’t create dots.</div>
    </footer>

  </main>

  <script src="./index.js?v=20260121a"></script>
  <script>
    // Register service worker (PWA)
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js?v=1").catch(() => {});
      });
    }
  </script>
</body>
</html>
