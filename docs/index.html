<!-- tap-n-score/index.html (FULL REPLACEMENT) — COMPACT TOP BAR + MATRIX -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#06070a" />

  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="/tap-n-score/styles.css?v=TP-COMPACT-MATRIX-01" />
</head>

<body>
  <main class="page">

    <!-- QRC LANDING HERO (LOCKED) -->
    <section class="hero" aria-label="Tap-n-Score landing">
      <div class="brandRow">
        <div class="brandTitle">
          <span class="r">TAP</span><span class="w">-N-</span><span class="b">SCORE</span><span class="w">™</span>
        </div>
        <div class="brandSub">After-Shot Intelligence</div>
      </div>

      <div class="heroMid">
        <button id="photoBtn" class="heroBtn" type="button">Add Target Picture</button>

        <div class="heroTip">
          Tip: Straight-on photos give the most accurate<br/>
          results.
        </div>

        <div class="vendorCenterRow" aria-label="Vendor / Buy more targets">
          <a id="vendorBox" class="vendorBox vendorBoxFlow" href="#" aria-label="Vendor">
            <span id="vendorLabel" class="vendorPillText">BUY MORE TARGETS LIKE THIS</span>
          </a>

          <svg class="vendorWireFlow" viewBox="0 0 220 36" aria-hidden="true">
            <path d="M10 10 C 60 30, 160 30, 210 10" fill="none" stroke="rgba(255,255,255,.26)" stroke-width="3" stroke-linecap="round"/>
            <path d="M10 16 C 68 32, 152 32, 210 16" fill="none" stroke="rgba(47,102,255,.18)" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>

      <!-- IMPORTANT (iOS): do NOT display:none file input -->
      <input id="photoInput" class="fileHidden" type="file" accept="image/*" />
    </section>

    <!-- TARGET PAGE (hidden until photo selected) -->
    <section id="scoreSection" class="card mt12 scoreHidden">
      <div class="cardTitle">TARGET</div>

      <!-- COMPACT TOP BAR -->
      <div class="topControls" aria-label="Distance and dial controls">

        <!-- Row 1: YARDS (left) + DIAL UNIT (right) -->
        <div class="topRow2">

          <div class="topCtrl">
            <div class="topCtrlLabelBig">YARDS</div>
            <div class="topCtrlRow">
              <button id="distDown" class="miniBtn" type="button" aria-label="Distance down">−</button>
              <input id="distanceYds" class="miniInput" type="number" inputmode="numeric" min="5" max="1000" step="1" value="100" aria-label="Distance yards" />
              <div class="miniUnit">yd</div>
              <button id="distUp" class="miniBtn" type="button" aria-label="Distance up">+</button>
            </div>
            <div class="topCtrlHint">Adjust only if needed.</div>
          </div>

          <div class="topCtrl">
            <div class="topCtrlLabelBig">DIAL</div>
            <div class="topCtrlRow">
              <button id="unitMoa" class="segBtn segOn" type="button">MOA</button>
              <button id="unitMrad" class="segBtn" type="button">MRAD</button>
            </div>
            <div class="topCtrlHint">Auto defaults.</div>
          </div>

        </div>

        <!-- Row 2: CLICK VALUE + MATRIX -->
        <div class="topRowClick">
          <div class="topCtrlClick">
            <div class="topCtrlLabelBig">CLICK</div>
            <div class="topCtrlRow">
              <input id="clickValue" class="miniInputWide" type="number" inputmode="decimal" step="0.01" value="0.25" aria-label="Click value" />
              <div id="clickUnitLabel" class="miniUnit">MOA/click</div>
            </div>
            <div class="topCtrlHint">Non-standard? change it.</div>
          </div>

          <button id="matrixBtn" class="matrixBtn" type="button" aria-label="Open matrix presets">
            MATRIX
          </button>
        </div>

        <!-- MATRIX PANEL (hidden) -->
        <div id="matrixPanel" class="matrixPanel matrixHidden" aria-hidden="true">
          <div class="matrixTitle">Quick Presets</div>

          <div class="matrixGroup">
            <div class="matrixLabel">MOA Click Values</div>
            <div class="chipRow">
              <button class="chip" type="button" data-unit="MOA" data-click="0.25">0.25</button>
              <button class="chip" type="button" data-unit="MOA" data-click="0.50">0.50</button>
              <button class="chip" type="button" data-unit="MOA" data-click="0.125">0.125</button>
            </div>
          </div>

          <div class="matrixGroup">
            <div class="matrixLabel">MRAD Click Values</div>
            <div class="chipRow">
              <button class="chip" type="button" data-unit="MRAD" data-click="0.10">0.10</button>
              <button class="chip" type="button" data-unit="MRAD" data-click="0.20">0.20</button>
              <button class="chip" type="button" data-unit="MRAD" data-click="0.05">0.05</button>
            </div>
          </div>

          <div class="matrixFoot">
            <button id="matrixCloseBtn" class="matrixCloseBtn" type="button">Done</button>
          </div>
        </div>

      </div>

      <!-- Status (kept light) -->
      <div id="statusLine" class="hint" style="margin-top:0; margin-bottom:6px;">
        Add a target photo to begin.
      </div>

      <!-- Target frame -->
      <div id="targetWrap" class="targetWrap" aria-label="Target photo area">
        <img id="targetImg" alt="Target preview" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>

        <!-- MIRRORED INSTRUCTION TIPS -->
        <div id="tipTL" class="tapTip tipTL tipStateReady">Tap Aim Point.</div>
        <div id="tipBR" class="tapTip tipBR tipStateReady">Tap Aim Point.</div>
      </div>

      <div class="row rowTight">
        <div class="pill">
          Taps: <span id="tapCount">0</span>
        </div>

        <button id="clearTapsBtn" class="btnSecondary" type="button">Clear</button>
      </div>

      <p id="instructionLine" class="hint"></p>
    </section>

    <!-- keep for compatibility (hidden) -->
    <section id="settingsSection" class="card scoreHidden" aria-hidden="true" style="display:none;"></section>

    <footer class="footer">
      <span class="footerMark">SCZN3</span>
    </footer>

    <div id="stickyBar" class="stickyBar stickyHidden" aria-hidden="true">
      <button id="stickyResultsBtn" class="stickyBtn" type="button">Show results</button>
    </div>

  </main>

  <script defer src="/tap-n-score/index.js?v=TP-COMPACT-MATRIX-01"></script>
</body>
</html>
