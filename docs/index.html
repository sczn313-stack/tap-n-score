<!-- tap-n-score/index.html (FULL REPLACEMENT) — TOP = 2 LINES DATA, ALL ADJUSTMENTS IN MATRIX, NO ON-IMAGE PILLS -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#06070a" />

  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="/tap-n-score/styles.css?v=TP-MATRIX-DATA-01" />
</head>

<body>
  <main class="page">

    <!-- QRC LANDING HERO (LOCKED) -->
    <section class="hero" aria-label="Tap-n-Score landing">
      <div class="brandRow">
        <div class="brandTitle">
          <span class="r">TAP</span><span class="w">-N-</span><span class="b">SCORE</span><span class="w">™</span>
        </div>
        <div class="brandSub">After-Shot Intelligence</div>
      </div>

      <div class="heroMid">
        <button id="photoBtn" class="heroBtn" type="button">Add Target Picture</button>

        <div class="heroTip">
          Tip: Straight-on photos give the most accurate<br/>
          results.
        </div>

        <div class="vendorCenterRow" aria-label="Vendor / Buy more targets">
          <a id="vendorBox" class="vendorBox vendorBoxFlow" href="#" aria-label="Vendor">
            <span id="vendorLabel" class="vendorPillText">BUY MORE TARGETS LIKE THIS</span>
          </a>

          <svg class="vendorWireFlow" viewBox="0 0 220 36" aria-hidden="true">
            <path d="M10 10 C 60 30, 160 30, 210 10" fill="none" stroke="rgba(255,255,255,.26)" stroke-width="3" stroke-linecap="round"/>
            <path d="M10 16 C 68 32, 152 32, 210 16" fill="none" stroke="rgba(47,102,255,.18)" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>

      <!-- IMPORTANT (iOS): do NOT display:none file input -->
      <input id="photoInput" class="fileHidden" type="file" accept="image/*" />
    </section>

    <!-- TARGET PAGE (hidden until photo selected) -->
    <section id="scoreSection" class="card mt12 scoreHidden">

      <!-- HEADER: SHOOTER EXPERIENCE CARD + SEC -->
      <div class="cardTitle cardTitleSEC">
        <div class="secTitle">
          <span class="r">SHOOTER</span>
          <span class="w">EXPERIENCE</span>
          <span class="b">CARD</span>
        </div>

        <div class="secTag" aria-label="SEC">
          <span class="r">S</span><span class="w">E</span><span class="b">C</span>
        </div>
      </div>

      <!-- TOP BAR = DATA ONLY (2 LINES) -->
      <div class="topDataBar" aria-label="Live data">
        <div id="topDistanceLine" class="topDataLine">100 yds</div>
        <div id="topDialLine" class="topDataLineSub">0.25 MOA</div>

        <button id="matrixBtn" class="matrixBtnTop" type="button" aria-label="Open settings">MATRIX</button>
      </div>

      <!-- MATRIX DRAWER (ALL ADJUSTMENTS LIVE HERE) -->
      <div id="matrixPanel" class="matrixPanel matrixHidden" aria-hidden="true">
        <div class="matrixTitle">Adjustments</div>

        <!-- Distance unit -->
        <div class="matrixGroup">
          <div class="matrixLabel">Distance Unit</div>
          <div class="chipRow">
            <button id="distUnitYd" class="chip chipOn" type="button">YD</button>
            <button id="distUnitM" class="chip" type="button">M</button>
          </div>
        </div>

        <!-- Range adjust -->
        <div class="matrixGroup">
          <div class="matrixLabel">Distance</div>
          <div class="rangeRow">
            <button id="distDown" class="miniBtn miniBtnTight" type="button" aria-label="Distance down">−</button>
            <input id="distanceYds" class="miniInput miniInputTight" type="number" inputmode="numeric" min="1" max="5000" step="1" value="100" aria-label="Distance value" />
            <div id="distUnitLabel" class="miniUnit">yds</div>
            <button id="distUp" class="miniBtn miniBtnTight" type="button" aria-label="Distance up">+</button>
          </div>
        </div>

        <!-- Dial unit -->
        <div class="matrixGroup">
          <div class="matrixLabel">Dial Unit</div>
          <div class="chipRow">
            <button id="unitMoa" class="chip chipOn" type="button">MOA</button>
            <button id="unitMrad" class="chip" type="button">MRAD</button>
          </div>
        </div>

        <!-- Click value -->
        <div class="matrixGroup">
          <div class="matrixLabel">Click Value</div>
          <div class="clickRow">
            <input id="clickValue" class="miniInputWide miniInputWideTight" type="number" inputmode="decimal" step="0.01" value="0.25" aria-label="Click value" />
            <div id="clickUnitLabel" class="miniUnit">MOA/click</div>
          </div>
        </div>

        <!-- Quick presets -->
        <div class="matrixGroup">
          <div class="matrixLabel">Quick Presets</div>

          <div class="chipRow">
            <button class="chip" type="button" data-unit="MOA" data-click="0.25">0.25 MOA</button>
            <button class="chip" type="button" data-unit="MOA" data-click="0.50">0.50 MOA</button>
            <button class="chip" type="button" data-unit="MOA" data-click="0.125">0.125 MOA</button>
          </div>

          <div class="chipRow" style="margin-top:10px;">
            <button class="chip" type="button" data-unit="MRAD" data-click="0.10">0.10 MRAD</button>
            <button class="chip" type="button" data-unit="MRAD" data-click="0.20">0.20 MRAD</button>
            <button class="chip" type="button" data-unit="MRAD" data-click="0.05">0.05 MRAD</button>
          </div>
        </div>

        <div class="matrixFoot">
          <button id="matrixCloseBtn" class="matrixCloseBtn" type="button">Done</button>
        </div>
      </div>

      <div id="statusLine" class="hint" style="margin-top:0; margin-bottom:8px;">
        Add a target photo to begin.
      </div>

      <div id="targetWrap" class="targetWrap" aria-label="Target photo area">
        <img id="targetImg" alt="Target preview" />
        <div id="dotsLayer" class="dotsLayer" aria-hidden="true"></div>
        <!-- pills removed -->
      </div>

      <div class="row rowTight">
        <div class="pill">
          Taps: <span id="tapCount">0</span>
        </div>

        <button id="clearTapsBtn" class="btnSecondary" type="button">Clear</button>
      </div>

      <p id="instructionLine" class="hint"></p>
    </section>

    <!-- keep for compatibility (hidden) -->
    <section id="settingsSection" class="card scoreHidden" aria-hidden="true" style="display:none;"></section>

    <footer class="footer">
      <span class="footerMark">SCZN3</span>
    </footer>

    <div id="stickyBar" class="stickyBar stickyHidden" aria-hidden="true">
      <button id="stickyResultsBtn" class="stickyBtn" type="button">Show results</button>
    </div>

  </main>

  <script defer src="/tap-n-score/index.js?v=TP-MATRIX-DATA-01"></script>
</body>
</html>
