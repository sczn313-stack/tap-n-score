<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#0b0d10" />
  <title>Tap-n-Score™ — SEC</title>

  <link rel="stylesheet" href="./styles.css?v=20260201_sec_rwb_1" />
</head>

<body>
  <main class="page">
    <header class="header">
      <h1 class="secTitle" aria-label="Shooter Experience Card">
        <span class="secTitleRed">SHOOTER</span>
        <span class="secTitleWhite">EXPERIENCE</span>
        <span class="secTitleBlue">CARD</span>
      </h1>
    </header>

    <section class="card">
      <div class="controls">
        <button id="chooseBtn" class="btn" type="button">Choose Photo</button>
        <button id="clearBtn" class="btn" type="button">Clear</button>
        <button id="resultsBtn" class="btn btnPrimary" type="button">Show Results</button>

        <!-- iOS/Safari wants the input in the DOM; keep it hidden but real -->
        <input
          id="photoInput"
          class="hiddenInput"
          type="file"
          accept="image/*"
        />
      </div>

      <div id="statusLine" class="status">Loading…</div>
      <div id="hintLine" class="hint">Tap the bull (blue). Then tap shots (red).</div>

      <div class="chips" aria-label="status chips">
        <div class="chip">
          <span id="chipImgDot" class="dotChip"></span>
          <span class="chipLabel">Image:</span>
          <span id="chipImg" class="chipValue">not loaded</span>
        </div>
        <div class="chip">
          <span id="chipBullDot" class="dotChip"></span>
          <span class="chipLabel">Bull:</span>
          <span id="chipBull" class="chipValue">not set</span>
        </div>
        <div class="chip">
          <span id="chipShotsDot" class="dotChip"></span>
          <span class="chipLabel">Shots:</span>
          <span id="chipShots" class="chipValue">0</span>
        </div>
      </div>

      <!-- Stage -->
      <div id="stage" class="stage" style="display:none;">
        <div class="imgFrame">
          <img id="targetImg" alt="Selected target" />
          <div id="tapLayer" class="tapLayer" aria-label="tap layer"></div>
        </div>
      </div>

      <!-- Results -->
      <section id="results" class="results" style="display:none;">
        <div class="scorePanel">
          <div class="scoreBar"></div>
          <div class="scoreLabel">Smart Score (pilot)</div>
        </div>

        <div id="resultGrid" class="resultGrid"></div>

        <details class="diag">
          <summary>Diagnostics</summary>
          <pre id="diagOut">(none)</pre>
        </details>
      </section>
    </section>

    <footer class="footer">
      <div class="brand">SCZN3</div>
    </footer>
  </main>

  <!-- IMPORTANT: bump the v= when iOS caches -->
  <script defer src="./index.js?v=20260201_sec_rwb_1"></script>
</body>
</html>
