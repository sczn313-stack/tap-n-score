<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="./styles.css?v=20260121b" />
</head>

<body>
  <main class="app">

    <!-- Header -->
    <header class="hdr">
      <div class="brandLine" aria-label="Tap-n-Score brand">
        <div class="brand">
          <span class="brandTap">TAP</span><span class="brandN">-N-</span><span class="brandScore">SCORE</span><span class="brandTm">™</span>
        </div>
        <div class="tagline">Fast, clean After-Shot Intelligence.</div>
      </div>
    </header>

    <!-- HERO: Choose photo must dominate -->
    <section class="hero" aria-label="Choose target photo">
      <input id="photoInput" class="fileInput" type="file" accept="image/*" />

      <label class="heroBtn" for="photoInput" id="chooseBtn">
        CHOOSE TARGET PHOTO
      </label>

      <div class="fileMeta" id="fileMeta" aria-live="polite">
        <span class="fileName" id="fileName">No photo selected</span>
      </div>

      <!-- Compact defaults row -->
      <div class="defaultsRow" aria-label="Defaults">
        <div class="pill" id="pillMode">Rifle</div>
        <div class="pill" id="pillSize">8.5 × 11</div>
        <div class="pill" id="pillDist">100y</div>
        <div class="pill" id="pillClick">0.25 MOA</div>

        <button class="ghostBtn" id="toggleSettingsBtn" type="button">
          Settings
        </button>
      </div>

      <!-- Settings panel (collapsed by default) -->
      <div class="settingsPanel" id="settingsPanel" hidden>
        <div class="settingsGrid">
          <div class="field">
            <label for="modeSelect">Mode</label>
            <select id="modeSelect">
              <option value="rifle" selected>Rifle</option>
              <option value="pistol">Pistol</option>
            </select>
          </div>

          <div class="field">
            <label for="targetSizeSelect">Target size</label>
            <select id="targetSizeSelect">
              <option value="8.5x11" selected>8.5 × 11</option>
              <option value="23x23">23 × 23</option>
            </select>
          </div>

          <div class="field">
            <label for="distanceYds">Distance (yards)</label>
            <input id="distanceYds" type="number" inputmode="numeric" min="1" step="1" value="100" />
          </div>

          <div class="field">
            <label for="clickValueSelect">Click value</label>
            <select id="clickValueSelect">
              <option value="0.25" selected>0.25 MOA / click</option>
              <option value="0.5">0.50 MOA / click</option>
              <option value="0.1">0.10 MIL / click</option>
            </select>
          </div>
        </div>

        <div class="settingsActions">
          <button class="ghostBtn" id="closeSettingsBtn" type="button">Close</button>
        </div>
      </div>
    </section>

    <!-- Work area -->
    <section class="work">

      <!-- Instruction line -->
      <div class="instruction" id="instructionLine">
        Tap bull first → then tap each bullet hole → Show Results.
      </div>

      <!-- Image / tap layer -->
      <div class="targetWrap" id="targetWrap" aria-label="Target image">
        <img id="targetImg" alt="Target" />
        <div id="dotsLayer" aria-hidden="true"></div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <div class="statusPills">
          <div class="statusPill" id="bullStatus">Bull: not set</div>
          <div class="statusPill" id="tapCount">Holes: 0</div>
        </div>

        <div class="btnRow">
          <button class="btn" id="undoBtn" type="button">Undo</button>
          <button class="btn" id="clearTapsBtn" type="button">Clear</button>
          <button class="btnPrimary" id="showResultsBtn" type="button">Show Results</button>
        </div>
      </div>

      <!-- Results -->
      <section class="results" id="resultsPanel" hidden>
        <h2>Tap-n-Score Results</h2>
        <div id="resultsText"></div>
        <a id="downloadSecLink" class="downloadLink" href="#" download="SEC.png" hidden>Download SEC (PNG)</a>
      </section>

      <div class="tip">
        Tip: Bull first. Then holes. Scroll/drag won’t create dots.
      </div>

    </section>
  </main>

  <script src="./index.js?v=20260121b"></script>
</body>
</html>
