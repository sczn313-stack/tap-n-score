<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#07110c" />
  <title>Tap-n-Score™</title>

  <link rel="stylesheet" href="./styles.css?v=SEC-LOCK-2" />
</head>

<body>
  <main class="page">

    <!-- ==============================
         PAGE 1 — LANDING
    =============================== -->
    <section id="pageLanding" class="card">
      <header class="hero">
        <div class="brandLine">
          <div class="brand">TAP-N-SCORE<span class="tm">™</span></div>
          <div class="sub">After-Shot Intelligence</div>
        </div>
      </header>

      <div class="field">
        <div class="label">Take or Choose Target Photo</div>

        <input id="photoInput" class="hiddenFile" type="file" accept="image/*" />
        <button id="chooseBtn" class="btnPrimary" type="button">Choose Photo</button>

        <div id="fileName" class="hintStrong">No file selected.</div>
        <div class="hint">Tip: Straight-on photos give the most accurate results.</div>
      </div>

      <div class="field whatNext">
        <div class="label">What happens next</div>
        <ul class="bullets">
          <li>Tap bull’s-eye (anchor)</li>
          <li>Tap each confirmed hit</li>
          <li>Press Results</li>
        </ul>
      </div>
    </section>

    <!-- ==============================
         PAGE 2 — TAP TARGET
    =============================== -->
    <section id="pageTap" class="tapPage hidden" aria-label="Tap target page">
      <section id="imgBox" class="imgBox" aria-label="Target image box">
        <img id="targetImg" alt="Selected target" />
        <div id="dotsLayer" aria-label="Tap overlay"></div>
      </section>

      <div id="controlsBar" class="controlsBar hidden" aria-label="Controls">
        <button id="clearBtn" class="btnCtl" type="button">Clear</button>
        <button id="undoBtn" class="btnCtl" type="button">Undo</button>
        <button id="resultsBtn" class="btnCtl btnCtlPrimary" type="button">Results</button>
      </div>
    </section>

    <!-- ==============================
         PAGE 3 — SEC (SCORING PAGE)
    =============================== -->
    <section id="pageSec" class="secPage hidden" aria-label="Shooter Experience Card">
      <section id="secCard" class="secCard">

        <header class="secHeader">
          <div class="secTitle">
            <span class="secWord">SHOOTER</span>
            <span class="secWord secWordWhite">EXPERIENCE</span>
            <span class="secWord secWordBlue">CARD</span>
          </div>
          <div class="secMeta">
            Session: <span id="secSessionId">SEC-00000000</span>
          </div>
        </header>

        <!-- HERO SCORE BOX -->
        <section class="scoreHeroBox" aria-label="Shooter score">
          <div class="scoreHeroTitle">Shooter Score</div>
          <div id="scoreHero" class="scoreHero">—</div>
        </section>

        <!-- STEP 2: HISTORY STRIP -->
        <section class="historyStrip" aria-label="Score history">
          <div class="historyTitle">Previous 3</div>

          <div class="historyRow">
            <div id="prev1" class="histPill">—</div>
            <div id="prev2" class="histPill">—</div>
            <div id="prev3" class="histPill">—</div>
          </div>

          <div class="historyFooter">
            <div class="histMeta">
              Avg: <span id="avgScore">—</span>
            </div>
            <div class="histMeta">
              Count: <span id="scoreCount">0</span>
            </div>
          </div>
        </section>

        <!-- SUPPORT ROW (clicks + shots) -->
        <section class="supportGrid" aria-label="Support info">
          <div class="miniBox" aria-label="Target clicks">
            <div class="miniTitle">Target Clicks</div>

            <div class="clickRow">
              <div class="clickPill">
                <div class="clickDir">↑ U</div>
                <div id="clickUp" class="clickVal">0.00</div>
              </div>

              <div class="clickPill">
                <div class="clickDir">↓ D</div>
                <div id="clickDown" class="clickVal">0.00</div>
              </div>
            </div>

            <div class="clickRow">
              <div class="clickPill">
                <div class="clickDir">← L</div>
                <div id="clickLeft" class="clickVal">0.00</div>
              </div>

              <div class="clickPill">
                <div class="clickDir">→ R</div>
                <div id="clickRight" class="clickVal">0.00</div>
              </div>
            </div>
          </div>

          <div class="miniBox" aria-label="Shot summary">
            <div class="miniTitle">Shots</div>
            <div class="shotsBig"><span id="shotsCount">0</span></div>
            <div class="shotsNote">Confirmed hits tapped</div>
          </div>
        </section>

        <!-- TWO equal CTA buttons -->
        <section class="ctaRow" aria-label="Actions">
          <button id="downloadSecBtn" class="ctaBtn" type="button">Download SEC</button>
          <button id="surveyBtn" class="ctaBtn" type="button">Survey</button>
        </section>

        <canvas id="secCanvas" class="secCanvas" width="1200" height="1600" aria-hidden="true"></canvas>
      </section>
    </section>

    <script src="./index.js?v=SEC-LOCK-2"></script>
  </main>
</body>
</html>
